WARNING: These notes are RAW

Based on centos apb-base

Build docker image using this Dockerfile and test it using 

`docker run -it veermuchandi/testapb`

Now we can change the playbooks inside the container like below:

```
$ cat /opt/ansible/roles/provision-my-test-apb/tasks/main.yml
##############################################################################
## Provision my-test
## This role executes much of the needed functionality to provision an
## application using an Ansible Playbook Bundle.  Included in the comments
## below are some sample resources for getting started deploying an application
## to OpenShift.
##############################################################################

- mssql_db:
    login_host: '{{ mssql_host }}' 
    login_port: '{{ mssql_port }}' 
    login_user: '{{ mssql_admin_user }}' 
    login_password: '{{ mssql_admin_password }}' 
    name: '{{ mssql_database }}' 
    state: present

- mssql_db:
    login_host: '{{ mssql_host }}'
    login_port: '{{ mssql_port }}'
    login_user: '{{ mssql_admin_user }}'
    login_password: '{{ mssql_admin_password }}'
    name: '{{ mssql_database }}'
    state: import
    target: /opt/apb/actions/addtable.sql
    
  
$ cat /opt/ansible/roles/deprovision-my-test-apb/tasks/main.yml
##############################################################################
## Deprovision my-test
## This role executes much of the needed functionality to deprovision an
## application using an Ansible Playbook Bundle and delete resources created
## in the sample apb generated by the provision role.
##############################################################################

- mssql_db:
    login_host: '{{ mssql_host }}'
    login_port: '{{ mssql_port }}'
    login_user: '{{ mssql_admin_user }}'
    login_password: '{{ mssql_admin_password }}'
    name: '{{ mssql_database }}'
    state: absent   
```

and test them

```
ansible-playbook  -e mssql_host=<value> -e mssql_port=<value> -e mssql_admin_user=<value> -e mssql_admin_password=<value> -e mssql_database=<value> /opt/apb/actions/provision.yml
ansible-playbook  -e mssql_host=<value> -e mssql_port=<value> -e mssql_admin_user=<value> -e mssql_admin_password=<value> -e mssql_database=<value> /opt/apb/actions/deprovision.yml

```
 
